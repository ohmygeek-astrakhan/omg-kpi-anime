<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPI Power Level ‚Äî OH MY GEEK</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: rgba(20, 15, 40, 0.95);
            border-radius: 24px;
            padding: 30px;
            max-width: 420px;
            width: 100%;
            box-shadow: 
                0 0 60px rgba(108, 43, 217, 0.3),
                inset 0 0 60px rgba(108, 43, 217, 0.05);
            border: 1px solid rgba(108, 43, 217, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        /* –ê—É—Ä–∞ –≤–æ–∫—Ä—É–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 30%, rgba(108, 43, 217, 0.1) 70%);
            animation: rotate 20s linear infinite;
            pointer-events: none;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        h1 {
            text-align: center;
            color: #fff;
            margin-bottom: 5px;
            font-size: 22px;
            text-shadow: 0 0 20px rgba(108, 43, 217, 0.8);
            position: relative;
            z-index: 1;
        }
        
        .subtitle {
            text-align: center;
            color: #a78bfa;
            margin-bottom: 25px;
            font-size: 13px;
            position: relative;
            z-index: 1;
        }
        
        .counter-group {
            background: rgba(45, 35, 75, 0.6);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(108, 43, 217, 0.2);
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .counter-group:hover {
            border-color: rgba(108, 43, 217, 0.5);
            box-shadow: 0 0 20px rgba(108, 43, 217, 0.2);
        }
        
        .counter-label {
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }
        
        .counter-label.green { color: #4ade80; text-shadow: 0 0 10px rgba(74, 222, 128, 0.5); }
        .counter-label.red { color: #f87171; text-shadow: 0 0 10px rgba(248, 113, 113, 0.5); }
        
        .counter-hint {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 12px;
        }
        
        .counter-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
        }
        
        .counter-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: 2px solid;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: bold;
        }
        
        .counter-btn:active {
            transform: scale(0.9);
        }
        
        .counter-btn.minus {
            background: rgba(248, 113, 113, 0.1);
            border-color: #f87171;
            color: #f87171;
        }
        
        .counter-btn.minus:hover {
            background: rgba(248, 113, 113, 0.2);
            box-shadow: 0 0 20px rgba(248, 113, 113, 0.4);
        }
        
        .counter-btn.plus {
            background: rgba(74, 222, 128, 0.1);
            border-color: #4ade80;
            color: #4ade80;
        }
        
        .counter-btn.plus:hover {
            background: rgba(74, 222, 128, 0.2);
            box-shadow: 0 0 20px rgba(74, 222, 128, 0.4);
        }
        
        .counter-value {
            font-size: 42px;
            font-weight: bold;
            min-width: 70px;
            text-align: center;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —à–∫–∞–ª–∞ —Å–∏–ª—ã */
        .result {
            background: linear-gradient(135deg, #1e1b4b, #312e81);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
            position: relative;
            z-index: 1;
            border: 2px solid rgba(108, 43, 217, 0.3);
            transition: all 0.5s ease;
        }
        
        .result.mode-weak {
            border-color: #6b7280;
            box-shadow: 0 0 30px rgba(107, 114, 128, 0.3);
        }
        
        .result.mode-awake {
            border-color: #fbbf24;
            box-shadow: 0 0 40px rgba(251, 191, 36, 0.4);
            animation: pulse-awake 2s ease-in-out infinite;
        }
        
        .result.mode-battle {
            border-color: #f472b6;
            box-shadow: 0 0 50px rgba(244, 114, 182, 0.5);
            animation: pulse-battle 1.5s ease-in-out infinite;
        }
        
        .result.mode-ultra {
            border-color: #a78bfa;
            background: linear-gradient(135deg, #4c1d95, #7c3aed, #4c1d95);
            background-size: 200% 200%;
            animation: ultra-bg 3s ease infinite, pulse-ultra 1s ease-in-out infinite;
            box-shadow: 
                0 0 60px rgba(167, 139, 250, 0.6),
                0 0 100px rgba(124, 58, 237, 0.4);
        }
        
        @keyframes pulse-awake {
            0%, 100% { box-shadow: 0 0 40px rgba(251, 191, 36, 0.4); }
            50% { box-shadow: 0 0 60px rgba(251, 191, 36, 0.6); }
        }
        
        @keyframes pulse-battle {
            0%, 100% { box-shadow: 0 0 50px rgba(244, 114, 182, 0.5); }
            50% { box-shadow: 0 0 80px rgba(244, 114, 182, 0.7); }
        }
        
        @keyframes pulse-ultra {
            0%, 100% { 
                box-shadow: 0 0 60px rgba(167, 139, 250, 0.6), 0 0 100px rgba(124, 58, 237, 0.4);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 80px rgba(167, 139, 250, 0.8), 0 0 120px rgba(124, 58, 237, 0.6);
                transform: scale(1.02);
            }
        }
        
        @keyframes ultra-bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .result-label {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .power-level {
            font-size: 14px;
            color: #a78bfa;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .result-value {
            font-size: 64px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
        }
        
        .result.mode-ultra .result-value {
            background: linear-gradient(90deg, #fff, #a78bfa, #fff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 2s linear infinite;
        }
        
        @keyframes shine {
            to { background-position: 200% center; }
        }
        
        .result-status {
            margin-top: 12px;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .status-weak { background: #374151; color: #9ca3af; }
        .status-awake { background: rgba(251, 191, 36, 0.2); color: #fbbf24; border: 1px solid #fbbf24; }
        .status-battle { background: rgba(244, 114, 182, 0.2); color: #f472b6; border: 1px solid #f472b6; }
        .status-ultra { 
            background: linear-gradient(90deg, rgba(124, 58, 237, 0.3), rgba(167, 139, 250, 0.3));
            color: #fff; 
            border: 1px solid #a78bfa;
            text-shadow: 0 0 10px rgba(167, 139, 250, 0.8);
        }
        
        /* –ê–Ω–∏–º–µ —Ü–∏—Ç–∞—Ç–∞ */
        .anime-quote {
            margin-top: 16px;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            font-style: italic;
            animation: quote-appear 0.6s ease;
            position: relative;
            z-index: 1;
        }
        
        .anime-quote.hidden { display: none; }
        
        .anime-quote.mode-awake { 
            background: rgba(251, 191, 36, 0.1);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        .anime-quote.mode-battle { 
            background: rgba(244, 114, 182, 0.1);
            color: #f472b6;
            border: 1px solid rgba(244, 114, 182, 0.3);
        }
        
        .anime-quote.mode-ultra { 
            background: linear-gradient(90deg, rgba(124, 58, 237, 0.2), rgba(167, 139, 250, 0.2));
            color: #fff;
            border: 1px solid rgba(167, 139, 250, 0.5);
            text-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
        }
        
        .anime-quote.legendary {
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
            color: #ffd700;
            border: 2px solid #ffd700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
            animation: quote-appear 0.6s ease, legendary-glow 2s ease-in-out infinite;
        }
        
        @keyframes quote-appear {
            0% { transform: scale(0.8) translateY(10px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        @keyframes legendary-glow {
            0%, 100% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 0 50px rgba(255, 215, 0, 0.7); }
        }
        
        .quote-type {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
            opacity: 0.7;
        }
        
        .reset-btn {
            width: 100%;
            padding: 14px;
            margin-top: 20px;
            border: 1px solid rgba(108, 43, 217, 0.3);
            border-radius: 12px;
            background: rgba(108, 43, 217, 0.1);
            color: #a78bfa;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .reset-btn:hover {
            background: rgba(108, 43, 217, 0.2);
            border-color: rgba(108, 43, 217, 0.5);
        }
        
        .tips {
            margin-top: 20px;
            padding: 16px;
            background: rgba(30, 27, 75, 0.5);
            border-radius: 12px;
            font-size: 12px;
            color: #9ca3af;
            position: relative;
            z-index: 1;
            border: 1px solid rgba(108, 43, 217, 0.2);
        }
        
        .tips-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #a78bfa;
        }
        
        .brand {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: #6b7280;
            position: relative;
            z-index: 1;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –≤—Å–ø—ã—à–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ */
        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            animation: flash 0.5s ease-out;
        }
        
        .flash.awake { background: radial-gradient(circle, rgba(251, 191, 36, 0.4), transparent 70%); }
        .flash.battle { background: radial-gradient(circle, rgba(244, 114, 182, 0.4), transparent 70%); }
        .flash.ultra { background: radial-gradient(circle, rgba(167, 139, 250, 0.5), transparent 70%); }
        
        @keyframes flash {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö° POWER LEVEL</h1>
        <p class="subtitle">OH MY GEEK ‚Äî –ò–∑–º–µ—Ä—å —Å–≤–æ—é —Å–∏–ª—É</p>
        
        <div class="counter-group">
            <div class="counter-label green">‚úÖ –ù–æ–≤—ã–µ —Å –∫–∞—Ä—Ç–æ–π</div>
            <div class="counter-hint">–ö–ª–∏–µ–Ω—Ç –≤–ø–µ—Ä–≤—ã–µ –æ—Ñ–æ—Ä–º–∏–ª –∫–∞—Ä—Ç—É</div>
            <div class="counter-controls">
                <button class="counter-btn minus" onclick="change('new', -1)">‚àí</button>
                <span class="counter-value" id="new-value">0</span>
                <button class="counter-btn plus" onclick="change('new', 1)">+</button>
            </div>
        </div>
        
        <div class="counter-group">
            <div class="counter-label red">‚ùå –û—Ç–∫–∞–∑–∞–ª–∏—Å—å</div>
            <div class="counter-hint">–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç, –Ω–æ –∫–∞—Ä—Ç—É –Ω–µ –∑–∞–≤—ë–ª</div>
            <div class="counter-controls">
                <button class="counter-btn minus" onclick="change('refused', -1)">‚àí</button>
                <span class="counter-value" id="refused-value">0</span>
                <button class="counter-btn plus" onclick="change('refused', 1)">+</button>
            </div>
        </div>
        
        <div class="result mode-weak" id="result-box">
            <div class="result-label">–¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —Å–∏–ª—ã</div>
            <div class="power-level" id="power-level">–†–ï–ñ–ò–ú –û–ñ–ò–î–ê–ù–ò–Ø</div>
            <div class="result-value" id="kpi-value">0%</div>
            <div class="result-status status-weak" id="kpi-status">–ù–∞—á–Ω–∏ —Å–º–µ–Ω—É!</div>
        </div>
        
        <div class="anime-quote hidden" id="anime-quote">
            <div class="quote-type" id="quote-type"></div>
            <span id="quote-text"></span>
        </div>
        
        <button class="reset-btn" onclick="reset()">üîÑ –ù–æ–≤–∞—è —Å–º–µ–Ω–∞</button>
        
        <div class="tips">
            <div class="tips-title">üí° –ö–∞–∫ –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å:</div>
            ‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞–π –∫–∞—Ä—Ç—É –ö–ê–ñ–î–û–ú–£ –Ω–æ–≤–æ–º—É –∫–ª–∏–µ–Ω—Ç—É<br>
            ‚Ä¢ ¬´–°—Ä–∞–∑—É 200‚ÇΩ –Ω–∞ —Å—á—ë—Ç ‚Äî —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–µ–Ω—å–≥–∏!¬ª<br>
            ‚Ä¢ –¶–µ–ª—å: –¥–æ—Å—Ç–∏—á—å —É—Ä–æ–≤–Ω—è üî• BATTLE MODE (50%+)
        </div>
        
        <div class="brand">OH MY GEEK üíú</div>
    </div>
    
    <script>
        let counters = { new: 0, refused: 0 };
        let currentMode = null;
        let shownQuotes = new Set();
        
        const quotes = {
            awake: [
                '–¢—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ—é —Å–∏–ª—É',
                '–ö–∞–∂–¥—ã–π –≤–µ–ª–∏–∫–∏–π –ø—É—Ç—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞',
                '–¢—ã —É–∂–µ –Ω–µ —Ç–æ—Ç, –∫–µ–º –±—ã–ª –≤ –Ω–∞—á–∞–ª–µ —Å–º–µ–Ω—ã',
                '–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å...',
                '–¢–≤–æ—è –∞—É—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–ª—å–Ω–µ–µ'
            ],
            battle: [
                '–° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ —Ç—ã —Å—Ä–∞–∂–∞–µ—à—å—Å—è –≤—Å–µ—Ä—å—ë–∑',
                '–¢–≤–æ—è –≤–æ–ª—è —Å–∏–ª—å–Ω–µ–µ –ª—é–±—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤',
                '–¢—ã —Å–¥–µ–ª–∞–ª –≤—ã–±–æ—Ä ‚Äî –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è',
                '–í–æ—Ç –≥–¥–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–π –±–æ–π!',
                '–í—Ä–∞–≥–∏ —Ç—Ä–µ–ø–µ—â—É—Ç –ø–µ—Ä–µ–¥ —Ç–≤–æ–µ–π —Ä–µ—à–∏–º–æ—Å—Ç—å—é',
                '–≠—Ç–æ –Ω–µ —É–¥–∞—á–∞. –≠—Ç–æ —Ç–≤–æ—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞'
            ],
            ultra: [
                '–¢—ã –ø—Ä–µ–≤–∑–æ—à—ë–ª —Å–≤–æ–π –ø—Ä–µ–¥–µ–ª!',
                '–≠—Ç–æ —É—Ä–æ–≤–µ–Ω—å –ª–µ–≥–µ–Ω–¥',
                '–°–µ–≥–æ–¥–Ω—è —Ç—ã ‚Äî –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥—Ä—É–≥–∏—Ö',
                '–°–∏–ª–∞ ‚Äî —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ, –∞ –Ω–µ –≤—Å–ø—ã—à–∫–∞',
                '–¢—ã –¥–æ—Å—Ç–∏–≥ —Ç–æ–≥–æ, —á—Ç–æ –∫–∞–∑–∞–ª–æ—Å—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º',
                'PLUS ULTRA!'
            ],
            legendary: [
                '‚òÖ –õ–ï–ì–ï–ù–î–ê–†–ù–û ‚òÖ –¢—ã ‚Äî –∏–∑–±—Ä–∞–Ω–Ω—ã–π —ç—Ç–æ–π —Å–º–µ–Ω—ã',
                '‚òÖ –†–ï–î–ö–ê–Ø –°–ò–õ–ê ‚òÖ –¢–∞–∫–æ–µ —Å–ª—É—á–∞–µ—Ç—Å—è —Ä–∞–∑ –≤ 20 —Å–º–µ–Ω',
                '‚òÖ –ú–ò–§–ò–ß–ï–°–ö–ò–ô –£–†–û–í–ï–ù–¨ ‚òÖ –û–± —ç—Ç–æ–º –±—É–¥—É—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å',
                '‚òÖ –ë–û–ñ–ï–°–¢–í–ï–ù–ù–ê–Ø –ê–£–†–ê ‚òÖ –ü—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ'
            ]
        };
        
        const powerLevels = {
            weak: { name: '–†–ï–ñ–ò–ú –û–ñ–ò–î–ê–ù–ò–Ø', status: '–ù–∞—á–Ω–∏ —Å–º–µ–Ω—É!', statusClass: 'status-weak' },
            awake: { name: 'üü° –ü–†–û–ë–£–ñ–î–ï–ù–ò–ï', status: '–°–∏–ª–∞ —Ä–∞—Å—Ç—ë—Ç!', statusClass: 'status-awake' },
            battle: { name: 'üî• BATTLE MODE', status: '–í –±–æ—é!', statusClass: 'status-battle' },
            ultra: { name: '‚ö° ULTRA INSTINCT', status: '–ú–ê–ö–°–ò–ú–£–ú!', statusClass: 'status-ultra' }
        };
        
        function change(type, delta) {
            counters[type] = Math.max(0, counters[type] + delta);
            document.getElementById(type + '-value').textContent = counters[type];
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —á–∏—Å–ª–∞
            const el = document.getElementById(type + '-value');
            el.style.transform = 'scale(1.2)';
            setTimeout(() => el.style.transform = 'scale(1)', 150);
            
            updateKPI();
        }
        
        function getMode(kpi) {
            if (kpi >= 70) return 'ultra';
            if (kpi >= 50) return 'battle';
            if (kpi >= 40) return 'awake';
            return 'weak';
        }
        
        function showFlash(mode) {
            const flash = document.createElement('div');
            flash.className = `flash ${mode}`;
            document.body.appendChild(flash);
            setTimeout(() => flash.remove(), 500);
        }
        
        function showQuote(mode) {
            const quoteEl = document.getElementById('anime-quote');
            const quoteText = document.getElementById('quote-text');
            const quoteType = document.getElementById('quote-type');
            
            // 5% —à–∞–Ω—Å –Ω–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—É—é —Ü–∏—Ç–∞—Ç—É
            const isLegendary = Math.random() < 0.05 && mode !== 'weak';
            
            let list, typeLabel;
            if (isLegendary) {
                list = quotes.legendary;
                typeLabel = '‚ú® –õ–ï–ì–ï–ù–î–ê–†–ù–ê–Ø –¶–ò–¢–ê–¢–ê ‚ú®';
            } else {
                list = quotes[mode];
                typeLabel = mode === 'awake' ? '–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ' : 
                           mode === 'battle' ? '–ë–æ–µ–≤–æ–π —Ä–µ–∂–∏–º' : 'ULTRA';
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ü–∏—Ç–∞—Ç—É, –∫–æ—Ç–æ—Ä—É—é –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏
            let availableQuotes = list.filter(q => !shownQuotes.has(q));
            if (availableQuotes.length === 0) {
                shownQuotes.clear();
                availableQuotes = list;
            }
            
            const text = availableQuotes[Math.floor(Math.random() * availableQuotes.length)];
            shownQuotes.add(text);
            
            quoteType.textContent = typeLabel;
            quoteText.textContent = `¬´${text}¬ª`;
            quoteEl.className = isLegendary ? 'anime-quote legendary' : `anime-quote mode-${mode}`;
        }
        
        function updateKPI() {
            const total = counters.new + counters.refused;
            const kpi = total > 0 ? Math.round(counters.new / total * 100) : 0;
            
            document.getElementById('kpi-value').textContent = kpi + '%';
            
            const mode = getMode(kpi);
            const level = powerLevels[mode];
            const resultBox = document.getElementById('result-box');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('power-level').textContent = level.name;
            
            const statusEl = document.getElementById('kpi-status');
            statusEl.textContent = level.status;
            statusEl.className = `result-status ${level.statusClass}`;
            
            resultBox.className = `result mode-${mode}`;
            
            // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã
            if (mode !== currentMode && mode !== 'weak' && total > 0) {
                showFlash(mode);
                showQuote(mode);
                currentMode = mode;
            } else if (mode === 'weak') {
                document.getElementById('anime-quote').className = 'anime-quote hidden';
                currentMode = null;
            }
        }
        
        function reset() {
            counters = { new: 0, refused: 0 };
            currentMode = null;
            shownQuotes.clear();
            
            document.getElementById('new-value').textContent = '0';
            document.getElementById('refused-value').textContent = '0';
            document.getElementById('anime-quote').className = 'anime-quote hidden';
            
            updateKPI();
        }
    </script>
</body>
</html>
